import sys

import matplotlib
import matplotlib.pyplot as plt
from matplotlib.ticker import MaxNLocator
from matplotlib import cm
from mpl_toolkits.mplot3d import Axes3D
from scipy.io import loadmat

import numpy
from numpy.random import randn
from scipy import array, newaxis

# Before interventions
# Ys = [3232473.03483455,3270961.99472445,3214034.12102665,3222549.75706906,3231317.56072253,3261871.77387720,3236581.71468862,3234450.83496180,3265834.43268766,3288010.36639066,3211587.20752969,3264198.77583998,3285016.53065104,3218197.33086184,3257845.02856115,3252423.32913658,3220784.80743146,3238237.01169282,3259811.55373398,3274004.26055664,3258814.04694133,3267627.11631421,3278430.43084868,3252307.72185239,3214728.23171502,3282338.34010700,3228715.89845651,3222517.36920232,3234598.50566026,3250536.17682129,3263244.23715327,3247814.18473282,3225710.43185658,3240143.18270628,3242552.53595692,3268165.57909305,3241872.20476670,3249476.44830055,3217752.64340423,3266026.21410977,3254225.60303156,3243762.18152396,3235984.36928447,3235576.51673995,3226568.52650790,3229313.21973082,3268626.45643570,3258638.78443713,3272675.18799803,3227097.22101809,3216739.42810704,3221534.14767028,3256642.62585414,3257931.83855560,3244720.37003295,3223650.28886205,3238822.08370409,3271598.90879257,3230770.88162673,3233365.20780869]
# Xs = [6.21788544151873e-11,24261.1386246748,22037.9201310950,24417.2520134273,3017.92219105706,31254.1078163768,9627.72589653779,12988.3084099765,11447.5225090147,8.11498969719003e-10,23076.7026081574,29641.8404256132,4303.89576316200,18596.3145939396,1950.91288474928,16611.4547354071,22082.8313817227,2313.73491410672,13750.9961332490,10915.0462261675,31774.7556173566,8883.68899894761,1009.16809026702,7.86077987605934e-10,21529.0425140358,11816.9999366670,17304.2995542136,16014.0433304922,3.31999847699815e-09,30887.9049330869,303.407864559122,4901.39650166445,14739.2783570076,8162.04503009453,29370.1565698234,5647.55239505107,26122.9028155580,20115.2993230973,23904.9576099190,21188.9259149302,22277.3100501512,8077.28010605246,10689.8470744439,4801.42102961114,13679.3840988279,20402.3531280833,26173.5599879074,34682.9205595084,11290.1315899517,14843.4939984738,19427.1785529300,17902.1998044028,21345.4691988735,30654.2000925135,496.035472736932,16838.8775484190,19954.8682756711,23508.4967512923,15721.0425660756,2.31186471419206e-09]
# Zs = [16500,11450,16250,13750,15950,11650,14050,13850,12100,11500,16650,11700,11550,16350,13250,12650,14700,14550,12900,11750,11650,12150,11750,15050,16800,11500,14300,15750,15850,11950,12450,12950,15400,13750,12350,12100,12550,12350,15550,11750,11950,13650,13850,14450,15600,13550,11450,11650,11800,14900,16650,15750,12250,11850,13550,15400,13450,11550,14050,16050]
# After interventions
# Ys = [3214121.26359799,3249616.85128937,3236173.74363295,3203691.84412613,3215642.97098764,3205502.47097417,3252723.37377351,3224984.65706388,3279875.64914962,3256638.44739318,3214027.77752024,3242787.33496672,3220519.56023767,3287660.75850241,3208678.89690237,3274125.91861420,3232879.70424587,3245489.22301187,3249450.71835183,3265585.45724104,3247494.12625385,3239776.08166753,3237507.64419008,3223257.19699103,3217352.04370421,3216035.70104212,3239139.13771936,3227241.95313868,3276055.16257090,3284954.49743293,3256549.42209705,3231982.19084308,3258162.12872375,3219410.22505465,3261817.87509134,3235799.60253418,3283019.78267764,3226645.93428034,3255403.04633709,3251081.81089530,3212167.09605243,3232366.76142786,3244012.45515264,3216921.20084906,3208338.34573130,3211530.82483938,3257611.70329513,3276974.96805481,3255425.74528736,3241344.07532696,3230723.13751666,3253301.77490037,3234002.61074429,3229347.51061221,3227484.71852730,3230174.22095461,3262929.99096218,3218253.21924370,3267991.76497056,3270324.31926155]
# Xs = [23303.1162651282,36786.1664191150,8.40830852939245e-11,30596.1852420727,26715.7126759605,30326.5068061343,31308.6632066252,14846.3724681494,12094.4798762023,16008.5843881146,25608.6739055837,32551.1449402229,29951.5836290610,7.15046847830576e-10,29076.4299566026,8270.78251309136,5916.90960141534,34324.5856845211,26432.9366050187,1.67017509892460e-10,13990.1002267216,7054.14277194136,13116.1129222262,18913.6795251376,19320.5017614782,21730.6710598555,17806.9186528703,9656.02895940208,4771.89855151776,3814.88618111851,2129.99999999949,10807.7249385451,22744.4952009451,25618.0423531764,22278.7936314187,4.74603102546454e-09,8982.36683638421,10164.3951028326,3019.25881876791,3.66344718560141e-10,27707.0122863667,1035.62331907475,5210.50557801445,20528.7442490260,30140.5118414457,28422.3170753592,420.042885617292,3927.40631615305,7996.63094203492,14642.8753796527,2130.00000000426,29212.9849006997,11084.3856055655,11298.7752359240,25314.2491976767,13684.7569643034,14886.6724214693,18613.1302972505,4418.35347110963,1.84135614796417e-09]
# Zs = [16350,11450,16150,16650,14850,16050,11650,15050,11500,12250,15750,12100,13550,11450,16150,11850,14650,11750,12050,13050,12550,14000,13700,15300,16950,16450,12750,15450,11700,11450,13350,14400,11750,14100,11650,14950,11500,15450,12900,13550,15150,16200,13150,16450,14450,15150,13400,11750,12600,12850,16700,11700,14100,14650,13950,13750,11850,16950,12000,12050]

data = loadmat("pareto_result_0413_before.mat")

Obj = data["Obj"]  # shape = (150, 3)
Xs, Ys, Zs = Obj[:, 1], Obj[:, 0], Obj[:, 2]

fig = plt.figure()
ax = fig.add_subplot(111, projection='3d')

surf = ax.plot_trisurf(Xs, Ys, Zs, cmap="RdBu_r", linewidth=2)
fig.colorbar(surf, shrink = 0.5)
ax.scatter(Xs, Ys, Zs, c=Zs, cmap="RdBu_r", edgecolor='k', s=50, marker ='o')
ax.xaxis.set_major_locator(MaxNLocator(5))
ax.yaxis.set_major_locator(MaxNLocator(6))
ax.zaxis.set_major_locator(MaxNLocator(5))
# ax.set_xlim(38, 78); ax.set_ylim(4750, 6950); 
fig.tight_layout()
ax.set_xlabel('Total Car Flow [veh/h]', fontweight ='bold') 
ax.set_ylabel('TTC [euro]', fontweight ='bold') 
ax.set_zlabel('Operation Cost [euro]', fontweight ='bold')
# ax.set_title("3D-Pareto Front Before Interventions")
ax.set_title("3D-Pareto Front After Interventions")
plt.show() # or:
